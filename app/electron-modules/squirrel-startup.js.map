{"version":3,"sources":["squirrel-startup.js"],"names":["path","require","spawn","app","run","args","done","updateExe","resolve","dirname","process","execPath","detached","on","check","platform","cmd","argv","target","basename","quit","module","exports"],"mappings":"AAAA,GAAIA,MAAOC,QAAQ,MAAR,CAAX,CACIC,MAAQD,QAAQ,eAAR,EAAyBC,KADrC,CAEIC,IAAMF,QAAQ,UAAR,EAAoBE,GAF9B,CAIIC,IAAM,SAASC,CAAT,CAAeC,CAAf,CAAqB,CAC7B,GAAIC,GAAYP,KAAKQ,OAAL,CAAaR,KAAKS,OAAL,CAAaC,QAAQC,QAArB,CAAb,CAA6C,IAA7C,CAAmD,YAAnD,CAAhB,CACAT,MAAMK,CAAN,CAAiBF,CAAjB,CAAuB,CACrBO,WADqB,CAAvB,EAEGC,EAFH,CAEM,OAFN,CAEeP,CAFf,CAGD,CATD,CAWIQ,MAAQ,UAAW,CACrB,GAAyB,OAArB,WAAQC,QAAZ,CAAkC,CAChC,GAAIC,GAAMN,QAAQO,IAAR,CAAa,CAAb,CAAV,CACIC,EAASlB,KAAKmB,QAAL,CAAcT,QAAQC,QAAtB,CADb,CAGA,GAAY,oBAAR,MAAwC,oBAAR,IAApC,CAEE,MADAP,KAAI,CAAC,oBAAsBc,CAAtB,CAA+B,EAAhC,CAAJ,CAAyCf,IAAIiB,IAA7C,CACA,IAEF,GAAY,sBAAR,IAAJ,CAEE,MADAhB,KAAI,CAAC,oBAAsBc,CAAtB,CAA+B,EAAhC,CAAJ,CAAyCf,IAAIiB,IAA7C,CACA,IAEF,GAAY,qBAAR,IAAJ,CAEE,MADAjB,KAAIiB,IAAJ,EACA,GAEH,CACD,QACD,CA9BD,CAgCAC,OAAOC,OAAP,CAAiBR,O","file":"squirrel-startup.js","sourcesContent":["var path = require('path');\nvar spawn = require('child_process').spawn;\nvar app = require('electron').app;\n\nvar run = function(args, done) {\n  var updateExe = path.resolve(path.dirname(process.execPath), '..', 'Update.exe');\n  spawn(updateExe, args, {\n    detached: true\n  }).on('close', done);\n};\n\nvar check = function() {\n  if (process.platform === 'win32') {\n    var cmd = process.argv[1];\n    var target = path.basename(process.execPath);\n\n    if (cmd === '--squirrel-install' || cmd === '--squirrel-updated') {\n      run(['--createShortcut=' + target + ''], app.quit);\n      return true;\n    }\n    if (cmd === '--squirrel-uninstall') {\n      run(['--removeShortcut=' + target + ''], app.quit);\n      return true;\n    }\n    if (cmd === '--squirrel-obsolete') {\n      app.quit();\n      return true;\n    }\n  }\n  return false;\n};\n\nmodule.exports = check();\n"]}