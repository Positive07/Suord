'use strict';var electron=require('electron'),app=electron.app;require('./electron-modules/squirrel-startup.js')&&app.quit();var BrowserWindow=electron.BrowserWindow,dialog=electron.dialog,os=require('os'),autoUpdater=require('electron-auto-updater'),debug=require('./electron-modules/debug.js');debug({enabled:!0,showDevTools:!0});var ipcMain=electron.ipcMain;ipcMain.once('dev',function(a,b){'ready'==b&&a.sender.send('dev',debug.isDevEnabled())});var mainWindow=null;app.on('window-all-closed',function(){'darwin'!=process.platform&&app.quit()});var autoUpdate=function(a){if(!debug.isDev()){const b=os.platform();'linux'===b||(autoUpdater.addListener('update-available',function(c){console.log('update-available',c)}),autoUpdater.addListener('error',function(c){console.log('error',c)}),autoUpdater.addListener('checking-for-update',function(c){console.log('checking-for-update',c)}),autoUpdater.addListener('update-not-available',function(c){console.log('update-not-available',c)}),autoUpdater.addListener('update-downloaded',function(c,d,f){console.log('update-downloaded',c),dialog.showMessageBox(a,{title:'Actualizaci\xF3n disponible',type:'info',detail:`La version ${f} ya se ha descargado, y se instalar√° la proxima vez que abra Suord`})}),a.webContents.once('did-frame-finish-load',function(){autoUpdater.checkForUpdates()}))}},createWindow=function(){mainWindow=new BrowserWindow({title:'Suord',minWidth:800,minHeight:600,show:!1}),mainWindow.setMenu(null),mainWindow.loadURL('file://'+__dirname+'/index.html'),mainWindow.once('ready-to-show',function(){mainWindow.maximize()}),mainWindow.on('closed',function(){mainWindow=null}),autoUpdate(mainWindow)};app.on('ready',createWindow),app.on('activate',function(){null===win&&createWindow()});
//# sourceMappingURL=app.js.map
